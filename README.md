# Фильтр желтушных новостей

Сервис позволяет рассчитать показатель "желтизны" статьи из СМИ по ссылке на нее. Чем больше в статье слов, которые аппелируют не к разуму, а к негативным и позитивным эмоциям и чувствам читателя, тем более статья "желтая". Этот показатель "желтизны" рассчитывается на основе специальных словарей негативно и позитивно окрашенных слов.

Пока поддерживается только один новостной сайт - [ИНОСМИ.РУ](https://inosmi.ru/). Для него разработан специальный адаптер, умеющий выделять текст статьи на фоне остальной HTML разметки. Для других новостных сайтов потребуются новые адаптеры, все они будут находиться в каталоге `adapters`. Туда же помещен код для сайта ИНОСМИ.PY: `adapters/inosmi_ru.py`.

В перспективе можно создать универсальный адаптер, подходящий для всех сайтов, но его разработка будет сложной и потребует дополнительных времени и сил.


### Предпочительно - как установить с помощью Docker и docker-compose

Приложение будет установлено с доступом через "обратный прокси" Nginx.

режим вывода логов -

```
sudo docker-compose up --build

```
режим "демона" -

```
sudo docker-compose up --build -d
```

### Как установить без Docker

Скачиваем файлы. 

Python>=3.8.0 должен быть уже установлен. Для установки зависимостей рекомендуется создать виртуальное окружение. 
Затем используйте pip для установки зависимостей:
```
pip install -r requirements.txt
```

### Использование
Переходим в каталог с программой
Команда -

```
python main.py
```

Сервис будет запущен по этому веб-адресу -

**http://{ваш_localhost}:80**


Браузер будет принимать запросы вида:


**http://{ваш_localhost}?urls=url_статьи**

**http://{ваш_localhost}?urls=url_статьи1,url_статьи2**


Максимум 10 статей в одной ссылке.

Браузер будет отдавать результ в формате JSON. Пример -


# Как запустить тесты

Для тестирования используется [pytest](https://docs.pytest.org/en/latest/), тесты созданы для основного функционала и фрагментов кода сложного в отладке: text_tools.py и адаптеры. 

Запуск основного теста -

```
python -m pytest -m server
```

Запуск отдельных тестов -

```
python -m pytest -m adapters_inosmi_ru
```

```
python -m pytest -m text_tools
```

Запуск всех тестов -

```
python -m pytest
```


# Цели проекта

Код написан в учебных целях. Это урок из курса по веб-разработке — [Девман](https://dvmn.org).
